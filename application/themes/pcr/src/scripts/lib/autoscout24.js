/*!
AS24-HCI-Desktop
AutoScout24 HCI Templates
Frontend: v1.24.0
*/
/*!
 * URI.js - Mutating URLs
 *
 * Version: 1.14.0
 *
 * Author: Rodney Rehm
 * Web: http://medialize.github.io/URI.js/
 *
 * Licensed under
 *   MIT License http://www.opensource.org/licenses/mit-license
 *   GPL v3 http://opensource.org/licenses/GPL-3.0
 *
 */
(function(n,t){"use strict";typeof exports=="object"?module.exports=t(require("./punycode"),require("./IPv6"),require("./SecondLevelDomains")):typeof define=="function"&&define.amd?define(["./punycode","./IPv6","./SecondLevelDomains"],t):n.URI=t(n.punycode,n.IPv6,n.SecondLevelDomains,n)})(this,function(n,t,i,r){"use strict";function u(n,t){return(this instanceof u)?(n===undefined&&(n=typeof location!="undefined"?location.href+"":""),this.href(n),t!==undefined)?this.absoluteTo(t):this:new u(n,t)}function l(n){return n.replace(/([.*+?^=!:${}()|[\]\/\\])/g,"\\$1")}function v(n){return n===undefined?"Undefined":String(Object.prototype.toString.call(n)).slice(8,-1)}function e(n){return v(n)==="Array"}function k(n,t){var u={},i,r;if(e(t))for(i=0,r=t.length;i<r;i++)u[t[i]]=!0;else u[t]=!0;for(i=0,r=n.length;i<r;i++)u[n[i]]!==undefined&&(n.splice(i,1),r--,i--);return n}function a(n,t){var i,r,u;if(e(t)){for(i=0,r=t.length;i<r;i++)if(!a(n,t[i]))return!1;return!0}for(u=v(t),i=0,r=n.length;i<r;i++)if(u==="RegExp"){if(typeof n[i]=="string"&&n[i].match(t))return!0}else if(n[i]===t)return!0;return!1}function p(n,t){if(!e(n)||!e(t)||n.length!==t.length)return!1;n.sort();t.sort();for(var i=0,r=n.length;i<r;i++)if(n[i]!==t[i])return!1;return!0}function d(n){return escape(n)}function y(n){return encodeURIComponent(n).replace(/[!'()*]/g,d).replace(/\*/g,"%2A")}var b=r&&r.URI,f,h,s,o,c,w;u.version="1.14.0";f=u.prototype;h=Object.prototype.hasOwnProperty;u._parts=function(){return{protocol:null,username:null,password:null,hostname:null,urn:null,port:null,path:null,query:null,fragment:null,duplicateQueryParameters:u.duplicateQueryParameters,escapeQuerySpace:u.escapeQuerySpace}};u.duplicateQueryParameters=!1;u.escapeQuerySpace=!0;u.protocol_expression=/^[a-z][a-z0-9.+-]*$/i;u.idn_expression=/[^a-z0-9\.-]/i;u.punycode_expression=/(xn--)/i;u.ip4_expression=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/;u.ip6_expression=/^\s*((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(%.+)?\s*$/;u.find_uri_expression=/\b((?:[a-z][\w-]+:(?:\/{1,3}|[a-z0-9%])|www\d{0,3}[.]|[a-z0-9.\-]+[.][a-z]{2,4}\/)(?:[^\s()<>]+|\(([^\s()<>]+|(\([^\s()<>]+\)))*\))+(?:\(([^\s()<>]+|(\([^\s()<>]+\)))*\)|[^\s`!()\[\]{};:'".,<>?«»“”‘’]))/ig;u.findUri={start:/\b(?:([a-z][a-z0-9.+-]*:\/\/)|www\.)/gi,end:/[\s\r\n]|$/,trim:/[`!()\[\]{};:'".,<>?«»“”„‘’]+$/};u.defaultPorts={http:"80",https:"443",ftp:"21",gopher:"70",ws:"80",wss:"443"};u.invalid_hostname_characters=/[^a-zA-Z0-9\.-]/;u.domAttributes={a:"href",blockquote:"cite",link:"href",base:"href",script:"src",form:"action",img:"src",area:"href",iframe:"src",embed:"src",source:"src",track:"src",input:"src",audio:"src",video:"src"};u.getDomAttribute=function(n){if(!n||!n.nodeName)return undefined;var t=n.nodeName.toLowerCase();return t==="input"&&n.type!=="image"?undefined:u.domAttributes[t]};u.encode=y;u.decode=decodeURIComponent;u.iso8859=function(){u.encode=escape;u.decode=unescape};u.unicode=function(){u.encode=y;u.decode=decodeURIComponent};u.characters={pathname:{encode:{expression:/%(24|26|2B|2C|3B|3D|3A|40)/ig,map:{"%24":"$","%26":"&","%2B":"+","%2C":",","%3B":";","%3D":"=","%3A":":","%40":"@"}},decode:{expression:/[\/\?#]/g,map:{"/":"%2F","?":"%3F","#":"%23"}}},reserved:{encode:{expression:/%(21|23|24|26|27|28|29|2A|2B|2C|2F|3A|3B|3D|3F|40|5B|5D)/ig,map:{"%3A":":","%2F":"/","%3F":"?","%23":"#","%5B":"[","%5D":"]","%40":"@","%21":"!","%24":"$","%26":"&","%27":"'","%28":"(","%29":")","%2A":"*","%2B":"+","%2C":",","%3B":";","%3D":"="}}}};u.encodeQuery=function(n,t){var i=u.encode(n+"");return t===undefined&&(t=u.escapeQuerySpace),t?i.replace(/%20/g,"+"):i};u.decodeQuery=function(n,t){n+="";t===undefined&&(t=u.escapeQuerySpace);try{return u.decode(t?n.replace(/\+/g,"%20"):n)}catch(i){return n}};u.recodePath=function(n){for(var t=(n+"").split("/"),i=0,r=t.length;i<r;i++)t[i]=u.encodePathSegment(u.decode(t[i]));return t.join("/")};u.decodePath=function(n){for(var t=(n+"").split("/"),i=0,r=t.length;i<r;i++)t[i]=u.decodePathSegment(t[i]);return t.join("/")};s={encode:"encode",decode:"decode"};c=function(n,t){return function(i){try{return u[t](i+"").replace(u.characters[n][t].expression,function(i){return u.characters[n][t].map[i]})}catch(r){return i}}};for(o in s)u[o+"PathSegment"]=c("pathname",s[o]);u.encodeReserved=c("reserved","encode");u.parse=function(n,t){var i;return t||(t={}),i=n.indexOf("#"),i>-1&&(t.fragment=n.substring(i+1)||null,n=n.substring(0,i)),i=n.indexOf("?"),i>-1&&(t.query=n.substring(i+1)||null,n=n.substring(0,i)),n.substring(0,2)==="//"?(t.protocol=null,n=n.substring(2),n=u.parseAuthority(n,t)):(i=n.indexOf(":"),i>-1&&(t.protocol=n.substring(0,i)||null,t.protocol&&!t.protocol.match(u.protocol_expression)?t.protocol=undefined:n.substring(i+1,i+3)==="//"?(n=n.substring(i+3),n=u.parseAuthority(n,t)):(n=n.substring(i+1),t.urn=!0))),t.path=n,t};u.parseHost=function(n,t){var i=n.indexOf("/"),r,u;return i===-1&&(i=n.length),n.charAt(0)==="["?(r=n.indexOf("]"),t.hostname=n.substring(1,r)||null,t.port=n.substring(r+2,i)||null,t.port==="/"&&(t.port=null)):n.indexOf(":")!==n.lastIndexOf(":")?(t.hostname=n.substring(0,i)||null,t.port=null):(u=n.substring(0,i).split(":"),t.hostname=u[0]||null,t.port=u[1]||null),t.hostname&&n.substring(i).charAt(0)!=="/"&&(i++,n="/"+n),n.substring(i)||"/"};u.parseAuthority=function(n,t){return n=u.parseUserinfo(n,t),u.parseHost(n,t)};u.parseUserinfo=function(n,t){var r=n.indexOf("/"),f=n.lastIndexOf("@",r>-1?r:n.length-1),i;return f>-1&&(r===-1||f<r)?(i=n.substring(0,f).split(":"),t.username=i[0]?u.decode(i[0]):null,i.shift(),t.password=i[0]?u.decode(i.join(":")):null,n=n.substring(f+1)):(t.username=null,t.password=null),n};u.parseQuery=function(n,t){var e;if(!n)return{};if(n=n.replace(/&+/g,"&").replace(/^\?*&*|&+$/g,""),!n)return{};var i={},s=n.split("&"),h=s.length,f,r,o;for(e=0;e<h;e++)f=s[e].split("="),r=u.decodeQuery(f.shift(),t),o=f.length?u.decodeQuery(f.join("="),t):null,i[r]?(typeof i[r]=="string"&&(i[r]=[i[r]]),i[r].push(o)):i[r]=o;return i};u.build=function(n){var t="";return n.protocol&&(t+=n.protocol+":"),!n.urn&&(t||n.hostname)&&(t+="//"),t+=u.buildAuthority(n)||"",typeof n.path=="string"&&(n.path.charAt(0)!=="/"&&typeof n.hostname=="string"&&(t+="/"),t+=n.path),typeof n.query=="string"&&n.query&&(t+="?"+n.query),typeof n.fragment=="string"&&n.fragment&&(t+="#"+n.fragment),t};u.buildHost=function(n){var t="";if(n.hostname)t+=u.ip6_expression.test(n.hostname)?"["+n.hostname+"]":n.hostname;else return"";return n.port&&(t+=":"+n.port),t};u.buildAuthority=function(n){return u.buildUserinfo(n)+u.buildHost(n)};u.buildUserinfo=function(n){var t="";return n.username&&(t+=u.encode(n.username),n.password&&(t+=":"+u.encode(n.password)),t+="@"),t};u.buildQuery=function(n,t,i){var o="",s,r,f,c;for(r in n)if(h.call(n,r)&&r)if(e(n[r]))for(s={},f=0,c=n[r].length;f<c;f++)n[r][f]!==undefined&&s[n[r][f]+""]===undefined&&(o+="&"+u.buildQueryParameter(r,n[r][f],i),t!==!0&&(s[n[r][f]+""]=!0));else n[r]!==undefined&&(o+="&"+u.buildQueryParameter(r,n[r],i));return o.substring(1)};u.buildQueryParameter=function(n,t,i){return u.encodeQuery(n,i)+(t!==null?"="+u.encodeQuery(t,i):"")};u.addQuery=function(n,t,i){if(typeof t=="object")for(var r in t)h.call(t,r)&&u.addQuery(n,r,t[r]);else if(typeof t=="string"){if(n[t]===undefined){n[t]=i;return}typeof n[t]=="string"&&(n[t]=[n[t]]);e(i)||(i=[i]);n[t]=n[t].concat(i)}else throw new TypeError("URI.addQuery() accepts an object, string as the name parameter");};u.removeQuery=function(n,t,i){var r,o,f;if(e(t))for(r=0,o=t.length;r<o;r++)n[t[r]]=undefined;else if(typeof t=="object")for(f in t)h.call(t,f)&&u.removeQuery(n,f,t[f]);else if(typeof t=="string")i!==undefined?n[t]===i?n[t]=undefined:e(n[t])&&(n[t]=k(n[t],i)):n[t]=undefined;else throw new TypeError("URI.addQuery() accepts an object, string as the first parameter");};u.hasQuery=function(n,t,i,r){var f,o,s;if(typeof t=="object"){for(f in t)if(h.call(t,f)&&!u.hasQuery(n,f,t[f]))return!1;return!0}if(typeof t!="string")throw new TypeError("URI.hasQuery() accepts an object, string as the name parameter");switch(v(i)){case"Undefined":return t in n;case"Boolean":return o=Boolean(e(n[t])?n[t].length:n[t]),i===o;case"Function":return!!i(n[t],t,n);case"Array":return e(n[t])?(s=r?a:p,s(n[t],i)):!1;case"RegExp":return e(n[t])?r?a(n[t],i):!1:Boolean(n[t]&&n[t].match(i));case"Number":i=String(i);case"String":return e(n[t])?r?a(n[t],i):!1:n[t]===i;default:throw new TypeError("URI.hasQuery() accepts undefined, boolean, string, number, RegExp, Function as the value parameter");}};u.commonPath=function(n,t){for(var r=Math.min(n.length,t.length),i=0;i<r;i++)if(n.charAt(i)!==t.charAt(i)){i--;break}return i<1?n.charAt(0)===t.charAt(0)&&n.charAt(0)==="/"?"/":"":((n.charAt(i)!=="/"||t.charAt(i)!=="/")&&(i=n.substring(0,i).lastIndexOf("/")),n.substring(0,i+1))};u.withinString=function(n,t,i){var s,r,h,f,o,c;i||(i={});var e=i.start||u.findUri.start,l=i.end||u.findUri.end,a=i.trim||u.findUri.trim;for(e.lastIndex=0;;){if(s=e.exec(n),!s)break;(r=s.index,i.ignoreHtml&&(h=n.slice(Math.max(r-3,0),r),h&&/[a-z0-9-]=["']?$/i.test(h)))||(f=r+n.slice(r).search(l),o=n.slice(r,f).replace(a,""),i.ignore&&i.ignore.test(o))||(f=r+o.length,c=t(o,r,f,n),n=n.slice(0,r)+c+n.slice(f),e.lastIndex=r+c.length)}return e.lastIndex=0,n};u.ensureValidHostname=function(t){if(t.match(u.invalid_hostname_characters)){if(!n)throw new TypeError('Hostname "'+t+'" contains characters other than [A-Z0-9.-] and Punycode.js is not available');if(n.toASCII(t).match(u.invalid_hostname_characters))throw new TypeError('Hostname "'+t+'" contains characters other than [A-Z0-9.-]');}};u.noConflict=function(n){if(n){var t={URI:this.noConflict()};return r.URITemplate&&typeof r.URITemplate.noConflict=="function"&&(t.URITemplate=r.URITemplate.noConflict()),r.IPv6&&typeof r.IPv6.noConflict=="function"&&(t.IPv6=r.IPv6.noConflict()),r.SecondLevelDomains&&typeof r.SecondLevelDomains.noConflict=="function"&&(t.SecondLevelDomains=r.SecondLevelDomains.noConflict()),t}return r.URI===this&&(r.URI=b),this};f.build=function(n){return n===!0?this._deferred_build=!0:(n===undefined||this._deferred_build)&&(this._string=u.build(this._parts),this._deferred_build=!1),this};f.clone=function(){return new u(this)};f.valueOf=f.toString=function(){return this.build(!1)._string};s={protocol:"protocol",username:"username",password:"password",hostname:"hostname",port:"port"};c=function(n){return function(t,i){return t===undefined?this._parts[n]||"":(this._parts[n]=t||null,this.build(!i),this)}};for(o in s)f[o]=c(s[o]);s={query:"?",fragment:"#"};c=function(n,t){return function(i,r){return i===undefined?this._parts[n]||"":(i!==null&&(i=i+"",i.charAt(0)===t&&(i=i.substring(1))),this._parts[n]=i,this.build(!r),this)}};for(o in s)f[o]=c(o,s[o]);s={search:["?","query"],hash:["#","fragment"]};c=function(n,t){return function(i,r){var u=this[n](i,r);return typeof u=="string"&&u.length?t+u:u}};for(o in s)f[o]=c(s[o][1],s[o][0]);f.pathname=function(n,t){if(n===undefined||n===!0){var i=this._parts.path||(this._parts.hostname?"/":"");return n?u.decodePath(i):i}return this._parts.path=n?u.recodePath(n):"/",this.build(!t),this};f.path=f.pathname;f.href=function(n,t){var i,r,f,o,e;if(n===undefined)return this.toString();if(this._string="",this._parts=u._parts(),r=n instanceof u,f=typeof n=="object"&&(n.hostname||n.path||n.pathname),n.nodeName&&(o=u.getDomAttribute(n),n=n[o]||"",f=!1),!r&&f&&n.pathname!==undefined&&(n=n.toString()),typeof n=="string")this._parts=u.parse(n,this._parts);else if(r||f){e=r?n._parts:n;for(i in e)h.call(this._parts,i)&&(this._parts[i]=e[i])}else throw new TypeError("invalid input");return this.build(!t),this};f.is=function(n){var r=!1,f=!1,e=!1,t=!1,s=!1,h=!1,c=!1,o=!this._parts.urn;this._parts.hostname&&(o=!1,f=u.ip4_expression.test(this._parts.hostname),e=u.ip6_expression.test(this._parts.hostname),r=f||e,t=!r,s=t&&i&&i.has(this._parts.hostname),h=t&&u.idn_expression.test(this._parts.hostname),c=t&&u.punycode_expression.test(this._parts.hostname));switch(n.toLowerCase()){case"relative":return o;case"absolute":return!o;case"domain":case"name":return t;case"sld":return s;case"ip":return r;case"ip4":case"ipv4":case"inet4":return f;case"ip6":case"ipv6":case"inet6":return e;case"idn":return h;case"url":return!this._parts.urn;case"urn":return!!this._parts.urn;case"punycode":return c}return null};var g=f.protocol,nt=f.port,tt=f.hostname;return f.protocol=function(n,t){if(n!==undefined&&n&&(n=n.replace(/:(\/\/)?$/,""),!n.match(u.protocol_expression)))throw new TypeError('Protocol "'+n+"\" contains characters other than [A-Z0-9.+-] or doesn't start with [A-Z]");return g.call(this,n,t)},f.scheme=f.protocol,f.port=function(n,t){if(this._parts.urn)return n===undefined?"":this;if(n!==undefined&&(n===0&&(n=null),n&&(n+="",n.charAt(0)===":"&&(n=n.substring(1)),n.match(/[^0-9]/))))throw new TypeError('Port "'+n+'" contains characters other than [0-9]');return nt.call(this,n,t)},f.hostname=function(n,t){if(this._parts.urn)return n===undefined?"":this;if(n!==undefined){var i={};u.parseHost(n,i);n=i.hostname}return tt.call(this,n,t)},f.host=function(n,t){return this._parts.urn?n===undefined?"":this:n===undefined?this._parts.hostname?u.buildHost(this._parts):"":(u.parseHost(n,this._parts),this.build(!t),this)},f.authority=function(n,t){return this._parts.urn?n===undefined?"":this:n===undefined?this._parts.hostname?u.buildAuthority(this._parts):"":(u.parseAuthority(n,this._parts),this.build(!t),this)},f.userinfo=function(n,t){if(this._parts.urn)return n===undefined?"":this;if(n===undefined){if(!this._parts.username)return"";var i=u.buildUserinfo(this._parts);return i.substring(0,i.length-1)}return n[n.length-1]!=="@"&&(n+="@"),u.parseUserinfo(n,this._parts),this.build(!t),this},f.resource=function(n,t){var i;return n===undefined?this.path()+this.search()+this.hash():(i=u.parse(n),this._parts.path=i.path,this._parts.query=i.query,this._parts.fragment=i.fragment,this.build(!t),this)},f.subdomain=function(n,t){var i;if(this._parts.urn)return n===undefined?"":this;if(n===undefined)return!this._parts.hostname||this.is("IP")?"":(i=this._parts.hostname.length-this.domain().length-1,this._parts.hostname.substring(0,i)||"");var r=this._parts.hostname.length-this.domain().length,f=this._parts.hostname.substring(0,r),e=new RegExp("^"+l(f));return n&&n.charAt(n.length-1)!=="."&&(n+="."),n&&u.ensureValidHostname(n),this._parts.hostname=this._parts.hostname.replace(e,n),this.build(!t),this},f.domain=function(n,t){var r,i,f;if(this._parts.urn)return n===undefined?"":this;if(typeof n=="boolean"&&(t=n,n=undefined),n===undefined)return!this._parts.hostname||this.is("IP")?"":(r=this._parts.hostname.match(/\./g),r&&r.length<2)?this._parts.hostname:(i=this._parts.hostname.length-this.tld(t).length-1,i=this._parts.hostname.lastIndexOf(".",i-1)+1,this._parts.hostname.substring(i)||"");if(!n)throw new TypeError("cannot set domain empty");return u.ensureValidHostname(n),!this._parts.hostname||this.is("IP")?this._parts.hostname=n:(f=new RegExp(l(this.domain())+"$"),this._parts.hostname=this._parts.hostname.replace(f,n)),this.build(!t),this},f.tld=function(n,t){var f,r,u;if(this._parts.urn)return n===undefined?"":this;if(typeof n=="boolean"&&(t=n,n=undefined),n===undefined)return!this._parts.hostname||this.is("IP")?"":(f=this._parts.hostname.lastIndexOf("."),r=this._parts.hostname.substring(f+1),t!==!0&&i&&i.list[r.toLowerCase()])?i.get(this._parts.hostname)||r:r;if(n)if(n.match(/[^a-zA-Z0-9-]/))if(i&&i.is(n))u=new RegExp(l(this.tld())+"$"),this._parts.hostname=this._parts.hostname.replace(u,n);else throw new TypeError('TLD "'+n+'" contains characters other than [A-Z0-9]');else if(!this._parts.hostname||this.is("IP"))throw new ReferenceError("cannot set TLD on non-domain host");else u=new RegExp(l(this.tld())+"$"),this._parts.hostname=this._parts.hostname.replace(u,n);else throw new TypeError("cannot set TLD empty");return this.build(!t),this},f.directory=function(n,t){var r,i;if(this._parts.urn)return n===undefined?"":this;if(n===undefined||n===!0)return!this._parts.path&&!this._parts.hostname?"":this._parts.path==="/"?"/":(r=this._parts.path.length-this.filename().length-1,i=this._parts.path.substring(0,r)||(this._parts.hostname?"/":""),n?u.decodePath(i):i);var f=this._parts.path.length-this.filename().length,e=this._parts.path.substring(0,f),o=new RegExp("^"+l(e));return this.is("relative")||(n||(n="/"),n.charAt(0)!=="/"&&(n="/"+n)),n&&n.charAt(n.length-1)!=="/"&&(n+="/"),n=u.recodePath(n),this._parts.path=this._parts.path.replace(o,n),this.build(!t),this},f.filename=function(n,t){var f,i,r,e;return this._parts.urn?n===undefined?"":this:n===undefined||n===!0?!this._parts.path||this._parts.path==="/"?"":(f=this._parts.path.lastIndexOf("/"),i=this._parts.path.substring(f+1),n?u.decodePathSegment(i):i):(r=!1,n.charAt(0)==="/"&&(n=n.substring(1)),n.match(/\.?\//)&&(r=!0),e=new RegExp(l(this.filename())+"$"),n=u.recodePath(n),this._parts.path=this._parts.path.replace(e,n),r?this.normalizePath(t):this.build(!t),this)},f.suffix=function(n,t){var r,f,e,o,i,s;if(this._parts.urn)return n===undefined?"":this;if(n===undefined||n===!0)return!this._parts.path||this._parts.path==="/"?"":(r=this.filename(),f=r.lastIndexOf("."),f===-1)?"":(e=r.substring(f+1),o=/^[a-z0-9%]+$/i.test(e)?e:"",n?u.decodePathSegment(o):o);if(n.charAt(0)==="."&&(n=n.substring(1)),i=this.suffix(),i)s=n?new RegExp(l(i)+"$"):new RegExp(l("."+i)+"$");else{if(!n)return this;this._parts.path+="."+u.recodePath(n)}return s&&(n=u.recodePath(n),this._parts.path=this._parts.path.replace(s,n)),this.build(!t),this},f.segment=function(n,t,i){var f=this._parts.urn?":":"/",o=this.path(),s=o.substring(0,1)==="/",r=o.split(f),u,h;if(n!==undefined&&typeof n!="number"&&(i=t,t=n,n=undefined),n!==undefined&&typeof n!="number")throw new Error('Bad segment "'+n+'", must be 0-based integer');if(s&&r.shift(),n<0&&(n=Math.max(r.length+n,0)),t===undefined)return n===undefined?r:r[n];if(n===null||r[n]===undefined)if(e(t))for(r=[],u=0,h=t.length;u<h;u++)(t[u].length||r.length&&r[r.length-1].length)&&(r.length&&!r[r.length-1].length&&r.pop(),r.push(t[u]));else(t||typeof t=="string")&&(r[r.length-1]===""?r[r.length-1]=t:r.push(t));else t||typeof t=="string"&&t.length?r[n]=t:r.splice(n,1);return s&&r.unshift(""),this.path(r.join(f),i)},f.segmentCoded=function(n,t,i){var f,r,o;if(typeof n!="number"&&(i=t,t=n,n=undefined),t===undefined){if(f=this.segment(n,t,i),e(f))for(r=0,o=f.length;r<o;r++)f[r]=u.decode(f[r]);else f=f!==undefined?u.decode(f):undefined;return f}if(e(t))for(r=0,o=t.length;r<o;r++)t[r]=u.decode(t[r]);else t=typeof t=="string"?u.encode(t):t;return this.segment(n,t,i)},w=f.query,f.query=function(n,t){if(n===!0)return u.parseQuery(this._parts.query,this._parts.escapeQuerySpace);if(typeof n=="function"){var i=u.parseQuery(this._parts.query,this._parts.escapeQuerySpace),r=n.call(this,i);return this._parts.query=u.buildQuery(r||i,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),this.build(!t),this}return n!==undefined&&typeof n!="string"?(this._parts.query=u.buildQuery(n,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),this.build(!t),this):w.call(this,n,t)},f.setQuery=function(n,t,i){var f=u.parseQuery(this._parts.query,this._parts.escapeQuerySpace),r;if(typeof n=="object")for(r in n)h.call(n,r)&&(f[r]=n[r]);else if(typeof n=="string")f[n]=t!==undefined?t:null;else throw new TypeError("URI.addQuery() accepts an object, string as the name parameter");return this._parts.query=u.buildQuery(f,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),typeof n!="string"&&(i=t),this.build(!i),this},f.addQuery=function(n,t,i){var r=u.parseQuery(this._parts.query,this._parts.escapeQuerySpace);return u.addQuery(r,n,t===undefined?null:t),this._parts.query=u.buildQuery(r,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),typeof n!="string"&&(i=t),this.build(!i),this},f.removeQuery=function(n,t,i){var r=u.parseQuery(this._parts.query,this._parts.escapeQuerySpace);return u.removeQuery(r,n,t),this._parts.query=u.buildQuery(r,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),typeof n!="string"&&(i=t),this.build(!i),this},f.hasQuery=function(n,t,i){var r=u.parseQuery(this._parts.query,this._parts.escapeQuerySpace);return u.hasQuery(r,n,t,i)},f.setSearch=f.setQuery,f.addSearch=f.addQuery,f.removeSearch=f.removeQuery,f.hasSearch=f.hasQuery,f.normalize=function(){return this._parts.urn?this.normalizeProtocol(!1).normalizeQuery(!1).normalizeFragment(!1).build():this.normalizeProtocol(!1).normalizeHostname(!1).normalizePort(!1).normalizePath(!1).normalizeQuery(!1).normalizeFragment(!1).build()},f.normalizeProtocol=function(n){return typeof this._parts.protocol=="string"&&(this._parts.protocol=this._parts.protocol.toLowerCase(),this.build(!n)),this},f.normalizeHostname=function(i){return this._parts.hostname&&(this.is("IDN")&&n?this._parts.hostname=n.toASCII(this._parts.hostname):this.is("IPv6")&&t&&(this._parts.hostname=t.best(this._parts.hostname)),this._parts.hostname=this._parts.hostname.toLowerCase(),this.build(!i)),this},f.normalizePort=function(n){return typeof this._parts.protocol=="string"&&this._parts.port===u.defaultPorts[this._parts.protocol]&&(this._parts.port=null,this.build(!n)),this},f.normalizePath=function(n){if(this._parts.urn||!this._parts.path||this._parts.path==="/")return this;var e,t=this._parts.path,r="",i,f;for(t.charAt(0)!=="/"&&(e=!0,t="/"+t),t=t.replace(/(\/(\.\/)+)|(\/\.$)/g,"/").replace(/\/{2,}/g,"/"),e&&(r=t.substring(1).match(/^(\.\.\/)+/)||"",r&&(r=r[0]));;){if(i=t.indexOf("/.."),i===-1)break;else if(i===0){t=t.substring(3);continue}f=t.substring(0,i).lastIndexOf("/");f===-1&&(f=i);t=t.substring(0,f)+t.substring(i+3)}return e&&this.is("relative")&&(t=r+t.substring(1)),t=u.recodePath(t),this._parts.path=t,this.build(!n),this},f.normalizePathname=f.normalizePath,f.normalizeQuery=function(n){return typeof this._parts.query=="string"&&(this._parts.query.length?this.query(u.parseQuery(this._parts.query,this._parts.escapeQuerySpace)):this._parts.query=null,this.build(!n)),this},f.normalizeFragment=function(n){return this._parts.fragment||(this._parts.fragment=null,this.build(!n)),this},f.normalizeSearch=f.normalizeQuery,f.normalizeHash=f.normalizeFragment,f.iso8859=function(){var n=u.encode,t=u.decode;return u.encode=escape,u.decode=decodeURIComponent,this.normalize(),u.encode=n,u.decode=t,this},f.unicode=function(){var n=u.encode,t=u.decode;return u.encode=y,u.decode=unescape,this.normalize(),u.encode=n,u.decode=t,this},f.readable=function(){var t=this.clone(),i,r,f;if(t.username("").password("").normalize(),i="",t._parts.protocol&&(i+=t._parts.protocol+"://"),t._parts.hostname&&(t.is("punycode")&&n?(i+=n.toUnicode(t._parts.hostname),t._parts.port&&(i+=":"+t._parts.port)):i+=t.host()),t._parts.hostname&&t._parts.path&&t._parts.path.charAt(0)!=="/"&&(i+="/"),i+=t.path(!0),t._parts.query){r="";for(var e=0,o=t._parts.query.split("&"),s=o.length;e<s;e++)f=(o[e]||"").split("="),r+="&"+u.decodeQuery(f[0],this._parts.escapeQuerySpace).replace(/&/g,"%26"),f[1]!==undefined&&(r+="="+u.decodeQuery(f[1],this._parts.escapeQuerySpace).replace(/&/g,"%26"));i+="?"+r.substring(1)}return i+u.decodeQuery(t.hash(),!0)},f.absoluteTo=function(n){var t=this.clone(),e=["protocol","username","password","hostname","port"],i,r,f;if(this._parts.urn)throw new Error("URNs do not have any generally defined hierarchical components");if(n instanceof u||(n=new u(n)),t._parts.protocol||(t._parts.protocol=n._parts.protocol),this._parts.hostname)return t;for(r=0;f=e[r];r++)t._parts[f]=n._parts[f];return t._parts.path?t._parts.path.substring(-2)===".."&&(t._parts.path+="/"):(t._parts.path=n._parts.path,t._parts.query||(t._parts.query=n._parts.query)),t.path().charAt(0)!=="/"&&(i=n.directory(),t._parts.path=(i?i+"/":"")+t._parts.path,t.normalizePath()),t.build(),t},f.relativeTo=function(n){var i=this.clone().normalize(),t,r,f,e,o,s;if(i._parts.urn)throw new Error("URNs do not have any generally defined hierarchical components");if(n=new u(n).normalize(),t=i._parts,r=n._parts,e=i.path(),o=n.path(),e.charAt(0)!=="/")throw new Error("URI is already relative");if(o.charAt(0)!=="/")throw new Error("Cannot calculate a URI relative to another relative URI");if((t.protocol===r.protocol&&(t.protocol=null),t.username!==r.username||t.password!==r.password)||t.protocol!==null||t.username!==null||t.password!==null)return i.build();if(t.hostname===r.hostname&&t.port===r.port)t.hostname=null,t.port=null;else return i.build();return e===o?(t.path="",i.build()):(f=u.commonPath(i.path(),n.path()),!f)?i.build():(s=r.path.substring(f.length).replace(/[^\/]*$/,"").replace(/.*?\//g,"../"),t.path=s+t.path.substring(f.length),i.build())},f.equals=function(n){var r=this.clone(),f=new u(n),i={},o={},l={},s,c,t;if(r.normalize(),f.normalize(),r.toString()===f.toString())return!0;if((s=r.query(),c=f.query(),r.query(""),f.query(""),r.toString()!==f.toString())||s.length!==c.length)return!1;i=u.parseQuery(s,this._parts.escapeQuerySpace);o=u.parseQuery(c,this._parts.escapeQuerySpace);for(t in i)if(h.call(i,t)){if(e(i[t])){if(!p(i[t],o[t]))return!1}else if(i[t]!==o[t])return!1;l[t]=!0}for(t in o)if(h.call(o,t)&&!l[t])return!1;return!0},f.duplicateQueryParameters=function(n){return this._parts.duplicateQueryParameters=!!n,this},f.escapeQuerySpace=function(n){return this._parts.escapeQuerySpace=!!n,this},u});typeof JSON!="object"&&(JSON={}),function(){"use strict";function i(n){return n<10?"0"+n:n}function o(n){return u.lastIndex=0,u.test(n)?'"'+n.replace(u,function(n){var t=s[n];return typeof t=="string"?t:"\\u"+("0000"+n.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+n+'"'}function e(i,r){var s,l,h,a,v=n,c,u=r[i];u&&typeof u=="object"&&typeof u.toJSON=="function"&&(u=u.toJSON(i));typeof t=="function"&&(u=t.call(r,i,u));switch(typeof u){case"string":return o(u);case"number":return isFinite(u)?String(u):"null";case"boolean":case"null":return String(u);case"object":if(!u)return"null";if(n+=f,c=[],Object.prototype.toString.apply(u)==="[object Array]"){for(a=u.length,s=0;s<a;s+=1)c[s]=e(s,u)||"null";return h=c.length===0?"[]":n?"[\n"+n+c.join(",\n"+n)+"\n"+v+"]":"["+c.join(",")+"]",n=v,h}if(t&&typeof t=="object")for(a=t.length,s=0;s<a;s+=1)typeof t[s]=="string"&&(l=t[s],h=e(l,u),h&&c.push(o(l)+(n?": ":":")+h));else for(l in u)Object.prototype.hasOwnProperty.call(u,l)&&(h=e(l,u),h&&c.push(o(l)+(n?": ":":")+h));return h=c.length===0?"{}":n?"{\n"+n+c.join(",\n"+n)+"\n"+v+"}":"{"+c.join(",")+"}",n=v,h}}typeof Date.prototype.toJSON!="function"&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+i(this.getUTCMonth()+1)+"-"+i(this.getUTCDate())+"T"+i(this.getUTCHours())+":"+i(this.getUTCMinutes())+":"+i(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()});var r,u,n,f,s,t;typeof JSON.stringify!="function"&&(u=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,s={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},JSON.stringify=function(i,r,u){var o;if(n="",f="",typeof u=="number")for(o=0;o<u;o+=1)f+=" ";else typeof u=="string"&&(f=u);if(t=r,r&&typeof r!="function"&&(typeof r!="object"||typeof r.length!="number"))throw new Error("JSON.stringify");return e("",{"":i})});typeof JSON.parse!="function"&&(r=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,JSON.parse=function(n,t){function u(n,i){var f,e,r=n[i];if(r&&typeof r=="object")for(f in r)Object.prototype.hasOwnProperty.call(r,f)&&(e=u(r,f),e!==undefined?r[f]=e:delete r[f]);return t.call(n,i,r)}var i;if(n=String(n),r.lastIndex=0,r.test(n)&&(n=n.replace(r,function(n){return"\\u"+("0000"+n.charCodeAt(0).toString(16)).slice(-4)})),/^[\],:{}\s]*$/.test(n.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return i=eval("("+n+")"),typeof t=="function"?u({"":i},""):i;throw new SyntaxError("JSON.parse");})}();
/*!
 * based on http://stackoverflow.com/a/105074/1415104
 */
(function(n){"use strict";(function(n){n.guid=function(){function n(){return Math.floor((1+Math.random())*65536).toString(16).substring(1)}return function(){return n()+n()+"-"+n()+"-"+n()+"-"+n()+"-"+n()+n()+n()}}()})(n.util=n.util||{})})(window._embeddedContentLoader=window._embeddedContentLoader||{});
/*!
 * based on http://benalman.com/projects/jquery-postmessage-plugin/
 */
(function(n,t){"use strict";var r=!!window.postMessage,i={};n.initMessageFrame=function(t){var r=function(r){var u,f;try{u=JSON.parse(r.data)}catch(e){return n}if(u.sender!==t||!u.key||!i[u.key])return n;for(f=0;f<i[u.key].length;f++)i[u.key][f].apply(u,u.args)};return window.addEventListener?window.addEventListener("message",r,!1):window.attachEvent("onmessage",r),n};n.onMessage=function(t,r){return!t||typeof t!="string"?n:(i[t]=i[t]||[],i[t].push(r),n)};n.sendMessage=function(u,f,e){if((e=e||window.parent,e==window)||!r)return n;f&&i.toString.call(f)!=="[object Array]"&&(f=[f]);var s=new t(document.location.href),o=s.query(!0),h=JSON.stringify({key:u,sender:o.frameid||"",args:f||[]});return o.callerurl!=null&&e.postMessage(h,o.callerurl),n}})(window._embeddedContentLoader=window._embeddedContentLoader||{},window.URI),function(n,t){"use strict";function v(n){var i=typeof Object.create=="function"?Object.create(null):{__proto__:null};for(var t in n)n.hasOwnProperty(t)&&(i[t]=n[t]);return i}function h(n,t){if(!n)return!1;var i=typeof n[t];return i=="unknown"||/\b(function|object)\b/i.test(i)&&n[t]}function et(n){typeof console!="undefined"&&(h(console,"error")?console.error(n):console.log(n))}function b(n){return n.replace(/^\s+|\s+$/g,"").split(/\s+/)[0]}function k(n){return(n||"").split("-")[0]}function st(n){var i=null,t;if(n)do{try{t=h(n,"getAttribute")&&n.getAttribute("xml:lang")||h(n,"getAttributeNS")&&n.getAttributeNS("http://www.w3.org/XML/1998/namespace","lang")||n.lang}catch(r){et(r)}if(t){i=v({contextLanguage:k(t)});break}}while(n=n.parentNode);return i||(t=navigator.languages&&navigator.languages[0]||navigator.userLanguage||navigator.language,t&&(i=v({userLanguage:k(t)}))),i}for(var l,y,r,a,i,pt,tt,it,rt,f,o,e,ut,ft,s,w=n.util.guid(),wt=document.body,ot=h(document,"getElementsByClassName")?function(n){var t=b(n);return document.getElementsByClassName(t)}:function(n,t){var o,i,u;n=b(n);arguments.length<2&&(t=document);var f=[],r=h(t,"getElementsByTagName")?t.getElementsByTagName("*"):null,e=r&&r.length;if(n&&e)for(o=new RegExp("(^|\\s+)"+n.replace(/[\]\\^$*+?.(){}|[]/g,"\\$&")+"(\\s+|$)"),i=0;i<e;++i)u=r[i],o.test(u.className)&&f.push(u);return f},d=document.getElementsByTagName("meta"),g=!1,u=0;u<d.length;u++)if(d[u].getAttribute("name")==="viewport"){g=!0;break}g||(l=document.createElement("meta"),l.setAttribute("name","viewport"),l.setAttribute("content","width=device-width, initial-scale=1"),document.getElementsByTagName("head")[0].appendChild(l));var ht=n.bodyFullscreenClass="body-fullscreen-"+w,ct=n.iframeFullscreenClass="iframe-fullscreen-"+w,c=document.createElement("style");c.type="text/css";y=["."+ht+" {","\toverflow: hidden;","}","."+ct+" {","\tposition: fixed;","\tleft: 0;","\ttop: 0;","\tright: 0;","\tbottom: 0;","\twidth: 100%;","\theight: 100% !important;","}"].join("\n");typeof c.styleSheet!="undefined"?c.styleSheet.cssText=y:c.appendChild(document.createTextNode(y));document.getElementsByTagName("head")[0].appendChild(c);n.elems=ot("embedded-content-area",document.body);typeof n.paramNames=="undefined"&&(n.paramNames=v());for(var p=n.paramNames,lt=p.lang||"lang",at=p.contextlang||"contextlang",vt=p.userlang||"userlang",u=0,nt=n.elems,yt=nt.length;u<yt;++u){if(r=nt[u],a="frame-"+n.util.guid(),r.style.padding="0",r.style.zoom="1",r.style.position="relative",i=r.getAttribute("data-embedded-src"),f=window.location.hash.slice(1),o=f.split("&"),f.indexOf("forceUrl")>-1&&f.indexOf("frameIndex=")>-1)for(e=0;e<o.length;++e)o[e].indexOf("forceUrl")>-1&&(f=decodeURIComponent(decodeURIComponent(o[e])).replace("forceUrl=","")),o[e].indexOf("frameIndex")>-1&&(rt=decodeURIComponent(o[e]).replace("frameIndex=",""));u==rt&&f!=""&&(ut=new t(i).protocol(),ft=new t(i).host(),i=ut+"://"+ft+f);i=new t(i).addQuery("callerurl",document.location.href.replace(/#.*$/,"")).addQuery("frameid",a).addQuery("frameIndex",u);i.hasQuery(lt)||(s=st(r),s&&(s.contextLanguage?i.addQuery(at,s.contextLanguage):s.userLanguage&&i.addQuery(vt,s.userLanguage)));pt=r.clientWidth;tt=["<iframe ",'id="',a,'" ','frameborder="0" ','scrolling="no" ','allowfullscreen="allowfullscreen" ','style="overflow:hidden; width:100%;" ',"><\/iframe>"];r.innerHTML=tt.join("");it=r.children[0];it.src=i.toString();n.initMessageFrame(a)}}(window._embeddedContentLoader=window._embeddedContentLoader||{},window.URI),function(n){"use strict";function r(n){for(var t=0,i=0;n&&!isNaN(n.offsetLeft)&&!isNaN(n.offsetTop);)t+=n.offsetLeft,i+=n.offsetTop,n=n.offsetParent;return{top:i,left:t}}var i=document.body,t={};n.onMessage("set-frame-height",function(n){n=parseInt(n,10);var t=document.getElementById(this.sender);t&&(t.style.height=n+"px")});n.onMessage("open-gallery",function(){var t=document.getElementById(this.sender),r=n.iframeFullscreenClass;t.className.match(r)||(i.className+=" "+n.bodyFullscreenClass,t.className+=" "+r,t.parentElement.style.zIndex=9999)});n.onMessage("close-gallery",function(){var t=document.getElementById(this.sender),r=n.iframeFullscreenClass;t.className.match(r)&&(i.className=i.className.replace(n.bodyFullscreenClass,""),t.className=t.className.replace(r,""),t.parentElement.style.zIndex=0)});n.onMessage("content-loadstart",function(){t[this.sender]=t[this.sender]||0;var n=document.getElementById(this.sender),i=r(n);t[this.sender]&&window.scrollTo(0,i.top);t[this.sender]++});n.onMessage("scroll-vertical",function(n){var t=document.getElementById(this.sender),i=r(t),u=n?n+i.top:0;window.scrollTo(window.pageXOffset,u)})}(window._embeddedContentLoader=window._embeddedContentLoader||{})